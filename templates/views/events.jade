include ../mixins/content-posts
extends ../layouts/default


mixin event(event)
	if event
		.panel.event-panel
			.row
				.col-md-12
					.card-image
						if(event.image.exists)
							.image-wrap: img(src=event._.image.fit(200,200) height=200 width=200).img-responsive
						else
							.image-wrap: img(src="../images/event.jpg" height=200 width=200).img-responsive
					.card-content		 
						.event-header
							.event-title.pull-left
								a(href='/events/event/' + event.slug) !{event.title}
							if event.startDate
									.event-date.pull-right 
										p !{event._.startDate.format('MMM, Do')}
						if event.location
							.card-location
								span.icon.icon-location 
									a(href=event.location.locationMapUrl target="_blank") !{event.location.name}				
						.event-brief-main
							p !{event.content.brief}



block sub-header
	.container.sub-nav
		.row
			.col-md-12
				ul.nav.nav-tabs#myTabs
					li(role="presentation").active
						a(href="#tab1" role="tab" data-toggle="tab") 2016 Event Schedule
					li(role="presentation")
						a(href="#tab2" role="tab" data-toggle="tab") Weekly Series	

block content
	.container.main-container
		.tab-content
			div(role="tabpanel").tab-pane.active#tab1
				+content-post(data.eventsContent)
				if data.events.length
					each event in data.events
						+event(event)
				else
					h3.text-muted There are no events yet.
			div(role="tabpanel").tab-pane#tab2
				+content-post(data.weeklySeriesContent)
				if data.weeklySeries.length
					each event in data.weeklySeries
						+event(event)
				else
					h3.text-muted There are no events yet.

block js							